version: "3.7"

services:
  sql.database:
    container_name: sql.database
    image: mcr.microsoft.com/mssql/server:2019-latest
    environment:
      - "SA_PASSWORD=Pass@word"
      - "ACCEPT_EULA=Y"
    ports:
      - "16433:1433" # Important: In a production environment your should remove the external port
    volumes:
      - ./db:/var/opt/mssql/data
  # identity.app:
  #   image: ${DOCKER_REGISTRY-}identity
  #   build:
  #     context: ..\src\
  #     dockerfile: Dockerfile
  #   depends_on:
  #     - sql.database
  #   environment:
  #     - ASPNETCORE_ENVIRONMENT=Development
  #     - ASPNETCORE_URLS=https://+:5001;http://+:81
  #   ports:
  #     - "82": "81"
  #     - "5001": "5001"
  #   volumes:
  #     - ./UserSecrets:/root/.microsoft/usersecrets:ro
  #     - ./Https:/root/.aspnet/https:ro

networks:
  default:
    name: identity_network
    driver: bridge
